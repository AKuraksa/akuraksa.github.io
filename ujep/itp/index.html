<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CISCO</title>
    <link rel="icon" type="image/x-icon" href="/ujep/itp/pic/net.ico">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1>CISCO - Cheatsheet</h1>
    </header>
    <main>
        <details>
            <summary>Vysvětlivky závorek</summary>
            <div class="code-show">
                <p>adresa → Pokud maska x.x.x.x/24 Pak adresa = x.x.x.1-254</p>
                <p>adresa sítě → x.x.x.x/24 Pak adresa sítě = x.x.x.0</p>
                <p>maska → 255.255.255.0</p>
                <p>wildcard → 0.0.0.255</p>
                <p>x/id -> číslo <span class="comment">/*Pro zjištění rozsahu dej za příkaz <span class="command">?</span>*/</span></p>
                <p>g0/0/0 → slot/modul/port</p>
            </div>
        </details>
        <section>
            <div class="text">
                <h1>Základní nastavení</h1>
            </div>
            <div class="code">
                <p><span class="header">Router> </span><span class="command">enable </span><span class="sc">en </span></p>
                <p><span class="header">Router# </span><span class="command">config terminal </span><span
                        class="sc">conf t </span></p>
                <p><span class="header">Router(config)# </span><span class="command">hostname R </span><span
                        class="sc">h R </span></p>
                <p><span class="header">R(config)# </span><span class="command">line console 0 </span><span
                        class="sc">lin c 0 </span></p>
                <p><span class="header">R(config-line)# </span><span class="command">logging synchronous </span><span
                        class="comment">/*Odřádkovávání. Dost užitečné zapnout. Řeší když uprostřed psaní příkazu vyskočí zpráva od routeru */</span><span class="sc">logg s </span></p> <br>
                <p><span class="comment">/*Pro vymazání některého z příkazů příkaz opiště a před něj napište <span
                            class="command">no </span>*/</span></p>
                <p><span class="header">R(config)# </span><span class="command">no hostname R</span><span class="sc">no
                        h R </span></p>
                <p><span class="header">Router(config)# </span></p>
            </div>
        </section>
        <section>
            <div class="text">
                <h2>Interface</h2>
            </div>
            <div class="code">
                <p><span class="header">R(config)# </span><span class="command">interface gigabitEthernet0/0/0
                    </span><span class="sc">int g0/0/0 </span></p>
                <p><span class="header">R(config-if)# </span><span class="command">ip address [adresa] [maska]
                    </span><span class="sc">ip add </span></p>
                <p><span class="header">R(config-if)# </span><span class="command">no shutdown </span><span
                        class="comment">//Zapnutí</span><span class="sc">no shu </span></p>
                <p><span class="header">R(config-if)# </span><span class="command">shutdown </span><span
                        class="comment">//Vypnutí</span><span class="sc">shu </span></p>
            </div>
        </section>
        <section>
            <div class="text">
                <h2>DHCP</h2>
            </div>
            <div class="code">
                <p><span class="header">R(config)# </span><span class="command">ip dhcp pool [název] </span></p>
                <p><span class="header">R(dhcp-config)# </span><span class="command">network [adresa sítě] [maska]
                    </span></p>
                <p><span class="header">R(dhcp-config)# </span><span class="command">default-router [adresa] </span></p>
                <p><span class="header">R(dhcp-config)# </span><span class="command">dns-server [adresa] </span></p>
                <br>
                <p><span class="header">R(config)# </span><span class="command">ip dhcp excluded-address [adresa]
                    </span><span class="comment">/*Vyloučená adresa*/</span></p>
                <p><span class="comment">/*Pokud máme adresu, kterou nechceme aby DHCP někomu dala jednoduše pro ní
                        uděláme vyjímku*/</span></p>
            </div>
        </section>
        <section>
            <div class="text">
                <h2>VLAN</h2>
            </div>
            <div class="code">
                <p><span class="header">R(config)# </span><span class="command">interface gigabitEthernet0/0/0
                    </span><span class="sc">int g0/0/0 </span></p>
                <p><span class="header">R(config-if)# </span><span class="command">no shutdown </span><span
                        class="sc">no shu </span></p> <br>
                <p><span class="header">R(config)# </span><span class="command">interface gigabitEthernet0/0/0.[X]
                    </span><span class="sc">int g0/0/0.[X] </span></p>
                <p><span class="header">R(config-subif)# </span><span class="command">encapsulation dot1Q [X]
                    </span><span class="sc">en d [X]</span></p>
                <p><span class="header">R(config-subif)# </span><span class="command">ip address [adresa] [maska]
                    </span><span class="sc">ip add </span></p>
                <p><span class="header">R(config-subif)# </span><span class="command">ip helper-address [adresa]
                    </span><span class="comment">/*Nastavujeme ve chvíly, kdy máme hotový DHCP na hlavním
                        routeru*/</span><span class="sc">ip help</span></p>
                <h3 id="trunk">Trunk</h3>
                <p><span class="comment">/*Nastavujeme na portu, který jde do routeru. Důvod: Aby pustil všechny VLANy
                        ke SWITCHi.*/</span></p>
                <p><span class="header">SW(config) </span><span class="command">int f0/24 </span><span
                        class="sc"></span></p>
                <p><span class="header">SW(config-if) </span><span class="command">switchport mode trunk </span><span
                        class="sc">sw m t</span></p>
                <h3>Do PC</h3>
                <p><span class="comment">/*1. Založíme vlanu na Switchi</span></p>
                <p><span class="comment">Jediný co je nutný dodržet je že "číslo vlany = číslo encapsulace". Jedině
                        takto pozná switch pro jakou vlanu je packet*/</span></p>
                <p><span class="header">SW(config) </span><span class="command">vlan [X] </span><span class="sc"></span>
                </p>
                <p><span class="comment">/*2. Vlanu přiřadíme na interface. Tím určíme že počítač připojený v tomto
                        interfacu bude patřit do určité VLANy. To je vše :)*/</span></p>
                <p><span class="header">SW(config-if) </span><span class="command">int f0/1</span><span
                        class="sc"></span></p>
                <p><span class="header">SW(config-if) </span><span class="command">switchport mode access </span><span
                        class="sc">sw m a</span></p>
                <p><span class="header">SW(config-if) </span><span class="command">switchport access vlan [X]
                    </span><span class="sc">sw a v</span></p>
            </div>
            <details>
                <summary>Příklad</summary>
                <div class="code-show">
                    <img src="pic/IP-help.png" alt="Network">
                    <p><span class="comment">/*Nastavuji na falešném DHCP*/</span></p>
                    <p><span class="header">R(config-subif)# </span><span class="command">ip help 192.168.0.1</span></p>
                </div>
            </details>
        </section>
        <section>
            <div class="text">
                <h2>HSRP</h2>
                <p>Hot standby routing protocol</p>
                
            </div>
            <div class="code">
                <p><span class="header">R1(config)# </span><span class="command">interface gigabitEthernet0/0
                    </span><span class="sc">int g0/0 </span></p>
                <p><span class="header">R1(config-if)# </span><span class="command">standby 1 ip [adresa]
                    </span><span class="sc">st 1 ip </span></p>
                <p><span class="header">R1(config-if)# </span><span class="command">standby 1 priority [0-255] </span><span class="sc">st 1 pri </span></p> <br>
                <p><span class="header">R2(config)# </span><span class="command">interface gigabitEthernet0/0
                </span><span class="sc">int g0/0 </span></p>
            <p><span class="header">R2(config-if)# </span><span class="command">standby 1 ip [adresa]
                </span><span class="sc">st 1 ip </span></p>
            <p><span class="header">R2(config-if)# </span><span class="command">standby 1 priority [0-255] </span><span class="sc">st 1 pri </span></p>
            </div>
            <details>
                <summary>Příklad</summary>
                <div class="code-show">
                    <img src="pic/hsrp.png" alt="network-hsrp" srcset="">
                    <p><span class="header">R1(config)# </span><span class="command">int g0/0
                    </span></p>
                <p><span class="header">R1(config-if)# </span><span class="command">st 1 ip 192.168.1.1</p>
                <p><span class="header">R1(config-if)# </span><span class="command">st 1 p 200 </span></p> <br>
                <p><span class="header">R2(config)# </span><span class="command">int g0/0
                </span><span class="sc">int g0/0 </span></p>
            <p><span class="header">R2(config-if)# </span><span class="command">st 1 ip 192.168.1.1
                </span></p>
            <p><span class="header">R2(config-if)# </span><span class="command">st 1 pri 100 </span></p>
                </div>
            </details>
        </section>
        <section>
            <div class="text">
                <h1>Routování</h1>
            </div>
            <div class="code">
                <h2>RIPv2</h2>
                <p><span class="header">R(config)# </span><span class="command">router rip </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">version 2 </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">network [adresa sítě] </span></p>
                <h2>EIGRP</h2>
                <p><span class="header">R(config)# </span><span class="command">router eigrp [id] </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">no auto-summary </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">network [adresa sítě] [wildcard]
                    </span></p>
                <h2>OSPF</h2>
                <p><span class="header">R(config)# </span><span class="command">router ospf [id] </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">default-information originate
                    </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">network [adresa sítě] [wildcard]
                        area 0 </span></p>
            </div>
            <div class="text">
                <h2>Redistribuce</h2>
            </div>
            <div class="code">
                <h2>RIPv2</h2>
                <p><span class="comment">/*EIGRP*/</span></p>
                <p><span class="header">R(config)# </span><span class="command">router rip </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">redistribute eigrp [id] metric 5
                    </span></p>
                <p><span class="comment">/*OSPF*/</span></p>
                <p><span class="header">R(config)# </span><span class="command">router rip </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">redistribute ospf [id] metric 3
                    </span></p>
                <h2>EIGRP</h2>
                <p><span class="comment">/*RIPv2*/</span></p>
                <p><span class="header">R(config)# </span><span class="command">router eigrp [id] </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">redistribute rip metric 10000 10
                        255 100 1000 </span></p>
                <p><span class="comment">/*OSPF*/</span></p>
                <p><span class="header">R(config)# </span><span class="command">router eigrp [id] </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">redistribute ospf [id] metric
                        10000 100 255 1 1500 </span></p>
                <h2>OSPF</h2>
                <p><span class="comment">/*RIPv2*/</span></p>
                <p><span class="header">R(config)# </span><span class="command">router ospf [id] </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">redistribute rip subnets </span>
                </p>
                <p><span class="comment">/*EIGRP*/</span></p>
                <p><span class="header">R(config)# </span><span class="command">router ospf [id] </span></p>
                <p><span class="header">R(config-router)# </span><span class="command">redistribute eigrp [id] subnets
                    </span></p> <br>
                <p><span class="comment">/*Redistribuce se dělá na jednom Routeru a musíš udělat redistribuci pro oba routovací protokoly. Tzn pokud máš jednu síť eigrp a druhou ospf tak router, který je mezi těmito sítěmi musí umět oba routovací protokoly a obě musí mít pravidlo jak překládat (redistribuovat) pro tu druhou.*/</span></p>
            </div>
        </section>
        <section>
            <div class="text">
                <h1>NAT</h1>
                <img src="pic/nat.png" alt="NAT">
            </div>
            <div class="code">
                <p><span class="header">R(config)# </span><span class="command">interface gigabitEthernet0/1
                    </span><span class="sc">int g0/1 </span></p>
                <p><span class="header">R(config-if)# </span><span class="command">ip nat inside </span></p> <br>
                <p><span class="header">R(config)# </span><span class="command">interface gigabitEthernet0/0
                    </span><span class="sc">int g0/0 </span></p>
                <p><span class="header">R(config-if)# </span><span class="command">ip nat outside </span></p>
                <p><span class="header">R(config-if)# </span><span class="command">ip address dchp </span><span
                        class="sc">ip add </span></p> <br>
                <p><span class="header">R(config)# </span><span class="command">ip access-list standard [název] </span>
                </p>
                <p><span class="header">R(config-std-nacl)# </span><span class="command">permit [adresa sítě] [wildcard]
                    </span></p> <br>
                <p><span class="header">R(config)# </span><span class="command">ip nat inside source list [název]
                        interface gigabitEthernet0/0 overload </span></p>
            </div>
            <details>
                <summary>Příklad</summary>
                <div class="code-show">
                    <p><span class="header">R(config)# </span><span class="command">ip access-list standard NAT</span>
                    </p>
                    <p><span class="header">R(config-std-nacl)# </span><span class="command">permit 192.168.0.0
                            0.0.0.255 </span></p> <br>
                    <p><span class="header">R(config)# </span><span class="command">ip nat inside source list NAT
                            interface g/0 overload </span></p>
                </div>
            </details>
        </section>
        <section>
            <div class="text">
                <h1>Etherchannel</h1>
            </div>
            <div class="code">
                <p><span class="header">SW(config)# </span><span class="command">interface range f0/21-24</span><span class="comment">/*Rozsah potrů, u kterých chceme stejnou komunikaci*/</span><span class="sc">int r f0/21-24</span></p>
                <p><span class="header">SW(config-if-range)# </span><span class="command">channel-group 1 mode active </span><span class="sc">channel-g 1 m ac</span></p>
                <p><span class="comment">/*Použitím active používnáme protokol LACP. Pokud máme více SW do kruhu použijeme na 1 channelu mod passive*/</span></p>
                <p><span class="comment">/*Toto uděláme na obou SW (Na obou může být různý range). Nezapomeň na <a href="#trunk">Trunk</a>*/</span></p>
            </div>
        </section>
        <section>
            <div class="text">
                <h1>Show</h1>
            </div>
            <div class="code">
                <p><span class="header">Router# </span><span class="command">show ip interface brief </span><span
                        class="sc">sh ip int brief </span></p>
                <p><span class="header">Router# </span><span class="command">show interface </span><span class="sc">sh
                        int</span></p>
                <p><span class="header">Router# </span><span class="command">show interface gigabitEthernet0/0/0
                    </span><span class="sc">sh int g0/0/0 </span></p>
                <p><span class="header">Router# </span><span class="command">show running-config </span><span
                        class="sc">sh run </span></p>
                <p><span class="header">Router# </span><span class="command">show ip dhcp binding </span></p>
                <p><span class="header">Router# </span><span class="command">show etherchannel summary </span></p>
                <p><span class="header">Router# </span><span class="command">show standby </span></p>
            </div>
        </section>
        <section>
            <div class="text">
                <h1>Tovární nastavení</h1>
            </div>
            <div class="code">
                <p><span class="header">Router# </span><span class="command">write erase </span></p>
                <p><span class="header">Router# </span><span class="command">reload </span></p>
            </div>
        </section>
    </main>
    <footer>
        <p>Vypracoval: Andrej Kuraksa</p>
    </footer>
</body>

</html>